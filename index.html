<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Veritas ‚Äî AI Text Detection</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/animations.css">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <span class="logo-icon">‚óà</span>
                <span class="logo-text">VERITAS</span>
                <span class="logo-tagline">AI Text Detection</span>
            </div>
            <nav class="nav">
                <a href="#" class="nav-link active" data-view="analyze">Analyze</a>
                <a href="#" class="nav-link" data-view="history">History</a>
                <a href="#" class="nav-link" data-view="methodology">Methodology</a>
                <a href="#" class="nav-link" data-view="about">About</a>
            </nav>
            <div class="header-actions">
                <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
                    <svg class="sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                        <circle cx="12" cy="12" r="5"/>
                        <line x1="12" y1="1" x2="12" y2="3"/>
                        <line x1="12" y1="21" x2="12" y2="23"/>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                        <line x1="1" y1="12" x2="3" y2="12"/>
                        <line x1="21" y1="12" x2="23" y2="12"/>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                    </svg>
                    <svg class="moon-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                        <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/>
                    </svg>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Analyze View -->
            <section class="view active" id="analyzeView">
                <div class="analyze-container">
                    <!-- Input Panel -->
                    <div class="panel input-panel">
                        <div class="panel-header">
                            <h2>Input Text</h2>
                            <div class="panel-actions">
                                <button class="btn btn-sm btn-ghost" id="sampleBtn">Sample</button>
                                <button class="btn btn-sm btn-ghost" id="clearBtn">Clear</button>
                                <div class="upload-dropdown">
                                    <button class="btn btn-sm btn-ghost" id="uploadDropdownBtn">
                                        Upload ‚ñæ
                                    </button>
                                    <div class="upload-menu" id="uploadMenu">
                                        <label class="upload-option" data-type="txt">
                                            <span class="upload-icon">üìÑ</span> Text File (.txt, .md)
                                            <input type="file" accept=".txt,.md" hidden>
                                        </label>
                                        <label class="upload-option" data-type="docx">
                                            <span class="upload-icon">üìù</span> Word Document (.docx)
                                            <input type="file" accept=".docx" hidden>
                                        </label>
                                        <label class="upload-option" data-type="pdf">
                                            <span class="upload-icon">üìï</span> PDF Document (.pdf)
                                            <input type="file" accept=".pdf" hidden>
                                        </label>
                                        <button class="upload-option" id="pasteClipboardBtn" data-type="clipboard">
                                            <span class="upload-icon">üìã</span> Paste from Clipboard
                                        </button>
                                        <button class="upload-option" id="googleDocsBtn" data-type="gdocs">
                                            <span class="upload-icon">üìä</span> Google Docs URL
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Metadata indicators -->
                        <div class="metadata-bar" id="metadataBar" hidden>
                            <span class="metadata-source" id="sourceIndicator"></span>
                            <span class="metadata-warnings" id="metadataWarnings"></span>
                        </div>
                        
                        <div class="textarea-wrapper">
                            <textarea 
                                id="textInput" 
                                placeholder="Paste or type text to analyze for AI-generated content... (minimum 10 words)

Supports: Plain text, Word documents (.docx), PDFs, and Google Docs URLs"
                                spellcheck="false"
                            ></textarea>
                            <div class="textarea-stats">
                                <span id="charCount">0 characters</span>
                                <span id="wordCount">0 words</span>
                                <span id="sentenceCount">0 sentences</span>
                            </div>
                        </div>
                        <div class="analyze-actions">
                            <button class="btn btn-primary btn-lg" id="analyzeBtn" disabled>
                                <span class="btn-text">Analyze Text</span>
                                <span class="btn-spinner"></span>
                            </button>
                        </div>
                    </div>

                    <!-- Results Panel -->
                    <div class="panel results-panel">
                        <div class="results-placeholder">
                            <div class="placeholder-icon">‚óá</div>
                            <p>Enter text and click "Analyze" to begin detection</p>
                        </div>

                        <!-- Results Content -->
                        <div class="results-content">
                            <!-- Overall Score -->
                            <div class="score-card">
                                <div class="score-header">
                                    <h3>Detection Result</h3>
                                    <div class="text-stats"></div>
                                </div>
                                <div class="score-display">
                                    <div class="overall-score">
                                        <div class="score-ring-container"></div>
                                        <div class="verdict">
                                            <span class="verdict-label"></span>
                                            <span class="verdict-description"></span>
                                        </div>
                                        <div class="confidence">
                                            <span class="confidence-label">Confidence:</span>
                                            <span class="confidence-value">-</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Key Findings -->
                            <div class="findings-card">
                                <h4>Key Findings</h4>
                                <div id="findingsList" class="findings-container"></div>
                            </div>

                            <!-- Results Tabs -->
                            <div class="results-tabs">
                                <div class="tabs" role="tablist">
                                    <button class="tab-btn active" data-tab="tab-highlighted" role="tab" aria-selected="true">Highlighted Text</button>
                                    <button class="tab-btn" data-tab="tab-features" role="tab" aria-selected="false">Feature Analysis</button>
                                    <button class="tab-btn" data-tab="tab-statistics" role="tab" aria-selected="false">Statistics</button>
                                    <button class="tab-btn" data-tab="tab-graphs" role="tab" aria-selected="false">Probability Graphs</button>
                                    <button class="tab-btn" data-tab="tab-report" role="tab" aria-selected="false">Detailed Report</button>
                                </div>

                                <!-- Tab Panels -->
                                <div class="tab-panel active" id="tab-highlighted" role="tabpanel">
                                    <div id="highlightedText" class="highlighted-text-wrapper"></div>
                                </div>

                                <div class="tab-panel" id="tab-features" role="tabpanel" hidden>
                                    <div id="featureAnalysis" class="features-container"></div>
                                </div>

                                <div class="tab-panel" id="tab-statistics" role="tabpanel" hidden>
                                    <div id="advancedStatistics" class="statistics-container"></div>
                                </div>

                                <div class="tab-panel" id="tab-graphs" role="tabpanel" hidden>
                                    <div id="probabilityGraphs" class="graphs-container"></div>
                                    <div id="advancedGraphs" class="graphs-container advanced-graphs">
                                        <div class="graph-section">
                                            <h4>Sentence Length Distribution</h4>
                                            <div id="sentenceLengthHistogram" class="graph-wrapper"></div>
                                        </div>
                                        <div class="graph-section">
                                            <h4>N-gram Repetition Heatmap</h4>
                                            <div id="ngramHeatmap" class="graph-wrapper"></div>
                                        </div>
                                        <div class="graph-section">
                                            <h4>Tone Stability Timeline</h4>
                                            <div id="toneTimeline" class="graph-wrapper"></div>
                                        </div>
                                        <div class="graph-section">
                                            <h4>Word Frequency Distribution</h4>
                                            <div id="zipfChart" class="graph-wrapper"></div>
                                        </div>
                                        <div class="graph-section">
                                            <h4>Feature Contributions</h4>
                                            <div id="featureContributionChart" class="graph-wrapper"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="tab-panel" id="tab-report" role="tabpanel" hidden>
                                    <div id="detailedReport" class="report-container"></div>
                                </div>
                            </div>

                            <!-- Export Actions -->
                            <div class="export-actions">
                                <button class="btn btn-sm btn-ghost" id="copyResultsBtn">Copy Results</button>
                                <div class="export-dropdown">
                                    <button class="btn btn-sm btn-ghost" id="exportDropdownBtn">
                                        Export Report ‚ñæ
                                    </button>
                                    <div class="export-menu" id="exportMenu">
                                        <button class="export-option" data-format="pdf">
                                            <span class="export-icon">üìï</span> PDF Report (.pdf)
                                        </button>
                                        <button class="export-option" data-format="docx">
                                            <span class="export-icon">üìù</span> Word Document (.docx)
                                        </button>
                                        <button class="export-option" data-format="markdown">
                                            <span class="export-icon">üìÑ</span> Markdown (.md)
                                        </button>
                                        <button class="export-option" data-format="json">
                                            <span class="export-icon">üìä</span> JSON Data (.json)
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- History View -->
            <section class="view" id="historyView" hidden>
                <div class="history-container">
                    <div class="history-header">
                        <h2>Analysis History</h2>
                        <button class="btn btn-sm btn-ghost" id="clearHistoryBtn">Clear All</button>
                    </div>
                    <div class="history-list" id="historyList">
                        <div class="history-empty">
                            <span class="empty-icon">‚óá</span>
                            <p>No analysis history yet</p>
                            <p class="text-muted">Your analyzed texts will appear here</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- About View -->
            <section class="view" id="aboutView" hidden>
                <div class="about-container">
                    <div class="about-hero">
                        <h1>About Veritas</h1>
                        <p class="subtitle">Advanced AI Text Detection Using Linguistic Analysis</p>
                    </div>
                    
                    <div class="about-content">
                        <div class="about-section">
                            <h3>How It Works</h3>
                            <p>Veritas analyzes text using 14 comprehensive feature categories derived from NLP literature, authorship attribution research, and AI-detection studies. Each feature is measured programmatically to provide accurate detection results.</p>
                        </div>

                        <div class="feature-categories-grid">
                            <div class="category-card">
                                <span class="category-num">01</span>
                                <h4>Grammar & Error Patterns</h4>
                                <p>Error rates, distribution, self-corrections, and human-specific grammatical signals.</p>
                            </div>
                            <div class="category-card">
                                <span class="category-num">02</span>
                                <h4>Sentence Structure & Syntax</h4>
                                <p>Length metrics, structural diversity, parse tree depth, and coordination patterns.</p>
                            </div>
                            <div class="category-card">
                                <span class="category-num">03</span>
                                <h4>Lexical Choice & Vocabulary</h4>
                                <p>Type-token ratio, word entropy, frequency analysis, and register consistency.</p>
                            </div>
                            <div class="category-card">
                                <span class="category-num">04</span>
                                <h4>Dialect & Regional Consistency</h4>
                                <p>Spelling variants, punctuation conventions, and lexical regionalism.</p>
                            </div>
                            <div class="category-card">
                                <span class="category-num">05</span>
                                <h4>Archaic / Historical Grammar</h4>
                                <p>Morphological signals, obsolete forms, and consistency in historical style.</p>
                            </div>
                            <div class="category-card">
                                <span class="category-num">06</span>
                                <h4>Discourse & Coherence</h4>
                                <p>Paragraph flow, transition smoothness, logical progression, and discourse markers.</p>
                            </div>
                            <div class="category-card">
                                <span class="category-num">07</span>
                                <h4>Semantic & Pragmatic Features</h4>
                                <p>Content depth, informational density, and human experience signals.</p>
                            </div>
                            <div class="category-card">
                                <span class="category-num">08</span>
                                <h4>Statistical Language Model</h4>
                                <p>Perplexity variance, token predictability, and n-gram repetition patterns.</p>
                            </div>
                            <div class="category-card">
                                <span class="category-num">09</span>
                                <h4>Authorship Consistency</h4>
                                <p>Intra-document style drift, cross-document deviation, and fluency analysis.</p>
                            </div>
                            <div class="category-card">
                                <span class="category-num">10</span>
                                <h4>Meta-Patterns Unique to AI</h4>
                                <p>Argument balance, hedging, formatting symmetry, and rhetorical arc predictability.</p>
                            </div>
                            <div class="category-card">
                                <span class="category-num">11</span>
                                <h4>Metadata & Formatting</h4>
                                <p>Unicode anomalies, decorative dividers, invisible characters, and formatting patterns.</p>
                            </div>
                            <div class="category-card">
                                <span class="category-num">12</span>
                                <h4>Repetition Patterns</h4>
                                <p>N-gram distribution, phrase clustering, and repetition uniformity analysis.</p>
                            </div>
                            <div class="category-card">
                                <span class="category-num">13</span>
                                <h4>Tone Stability</h4>
                                <p>Emotional variance, sentiment drift, and stylistic consistency throughout text.</p>
                            </div>
                            <div class="category-card">
                                <span class="category-num">14</span>
                                <h4>Part of Speech Patterns</h4>
                                <p>Verb usage, adverb placement, adjective density, and POS distribution analysis.</p>
                            </div>
                        </div>

                        <div class="about-section">
                            <h3>Detection Philosophy</h3>
                            <p>Our system uses <strong>variance-based detection</strong> ‚Äî we don't flag individual features as "AI-like" or "human-like." Instead, we measure deviations from expected human variance patterns. AI text is characterized by unusual uniformity and predictability, while human text shows natural burstiness and variation.</p>
                        </div>

                        <div class="about-section disclaimer">
                            <h3>Disclaimer</h3>
                            <p>No AI detection system is 100% accurate. Results should be used as one of multiple factors in evaluation. Human judgment remains essential.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Methodology View -->
            <section class="view" id="methodologyView" hidden>
                <div class="methodology-container">
                    <div class="methodology-hero">
                        <h1>Mathematical Methodology</h1>
                        <p class="subtitle">The Science Behind VERITAS AI Detection</p>
                    </div>

                    <div class="methodology-content">
                        <!-- Core Philosophy -->
                        <div class="methodology-section">
                            <h2>Core Detection Philosophy</h2>
                            <div class="philosophy-box">
                                <blockquote>
                                    "Never grade features as 'AI-like' or 'human-like' in isolation. Grade them as deviations from expected human variance."
                                </blockquote>
                                <p>Human writing exhibits natural <strong>burstiness</strong> ‚Äî irregular patterns in sentence length, vocabulary choice, and style. AI text tends toward <strong>uniformity</strong> ‚Äî suspiciously consistent patterns that deviate from natural human variance.</p>
                            </div>
                        </div>

                        <!-- Statistical Measures -->
                        <div class="methodology-section">
                            <h2>Statistical Measures</h2>
                            
                            <div class="formula-card">
                                <h3>Coefficient of Variation (CV)</h3>
                                <p>Measures relative variability ‚Äî lower CV indicates more uniform (AI-like) text.</p>
                                <div class="formula">
                                    <span class="math">CV = œÉ / Œº</span>
                                </div>
                                <p class="formula-note">Where œÉ is standard deviation and Œº is the mean. Typical human CV for sentence length: 0.4-0.8. AI text: 0.2-0.4.</p>
                            </div>

                            <div class="formula-card">
                                <h3>Burstiness Score</h3>
                                <p>Measures clustering patterns ‚Äî humans show "bursty" behavior; AI shows even distribution.</p>
                                <div class="formula">
                                    <span class="math">B = (œÉ - Œº) / (œÉ + Œº)</span>
                                </div>
                                <p class="formula-note">Range: -1 (periodic) to +1 (bursty). Value of 0 indicates Poisson randomness. Human text typically: 0.1-0.4. AI text: -0.2-0.1.</p>
                            </div>

                            <div class="formula-card">
                                <h3>Shannon Entropy</h3>
                                <p>Measures information content and unpredictability of word choices.</p>
                                <div class="formula">
                                    <span class="math">H(X) = -Œ£ p(x·µ¢) log‚ÇÇ p(x·µ¢)</span>
                                </div>
                                <p class="formula-note">Higher entropy = more diverse/unpredictable vocabulary. AI text often shows lower entropy due to repetitive phrasing.</p>
                            </div>

                            <div class="formula-card">
                                <h3>Gini Coefficient</h3>
                                <p>Measures inequality in distribution (used for sentence length variation).</p>
                                <div class="formula">
                                    <span class="math">G = (2Œ£·µ¢ i¬∑x·µ¢) / (n¬∑Œ£x·µ¢) - (n+1)/n</span>
                                </div>
                                <p class="formula-note">Range: 0 (perfect equality) to 1 (perfect inequality). Lower Gini in sentence lengths suggests AI-generated uniformity.</p>
                            </div>
                        </div>

                        <!-- Vocabulary Richness -->
                        <div class="methodology-section">
                            <h2>Vocabulary Richness Metrics</h2>

                            <div class="formula-card">
                                <h3>Type-Token Ratio (TTR)</h3>
                                <p>Basic measure of vocabulary diversity.</p>
                                <div class="formula">
                                    <span class="math">TTR = V / N</span>
                                </div>
                                <p class="formula-note">V = unique words (types), N = total words (tokens). Higher = more diverse vocabulary.</p>
                            </div>

                            <div class="formula-card">
                                <h3>Root TTR (Guiraud's R)</h3>
                                <p>Length-normalized vocabulary richness.</p>
                                <div class="formula">
                                    <span class="math">R = V / ‚àöN</span>
                                </div>
                                <p class="formula-note">More stable across different text lengths than simple TTR.</p>
                            </div>

                            <div class="formula-card">
                                <h3>Yule's K Characteristic</h3>
                                <p>Measures vocabulary consistency independent of text length.</p>
                                <div class="formula">
                                    <span class="math">K = 10‚Å¥ ¬∑ (M‚ÇÇ - M‚ÇÅ) / M‚ÇÅ¬≤</span>
                                </div>
                                <p class="formula-note">Where M‚ÇÅ = N (total tokens), M‚ÇÇ = Œ£ r¬≤¬∑V·µ£ (V·µ£ = words appearing r times). Lower K = richer vocabulary. Typical range: 80-200.</p>
                            </div>

                            <div class="formula-card">
                                <h3>Hapax Legomena Ratio</h3>
                                <p>Proportion of words appearing exactly once.</p>
                                <div class="formula">
                                    <span class="math">H = V‚ÇÅ / N</span>
                                </div>
                                <p class="formula-note">V‚ÇÅ = count of words appearing only once. Higher ratio suggests more natural/human vocabulary usage.</p>
                            </div>

                            <div class="formula-card">
                                <h3>Honore's R Statistic</h3>
                                <p>Vocabulary richness based on hapax legomena.</p>
                                <div class="formula">
                                    <span class="math">R = 100 ¬∑ log(N) / (1 - V‚ÇÅ/V)</span>
                                </div>
                                <p class="formula-note">Higher R = richer vocabulary. Typical range: 1500-2500 for natural text.</p>
                            </div>

                            <div class="formula-card">
                                <h3>Simpson's D (Diversity Index)</h3>
                                <p>Probability that two randomly chosen words are the same.</p>
                                <div class="formula">
                                    <span class="math">D = Œ£ [n·µ¢(n·µ¢-1)] / [N(N-1)]</span>
                                </div>
                                <p class="formula-note">Lower D = more diverse vocabulary. AI text often shows higher D due to repetitive word choices.</p>
                            </div>
                        </div>

                        <!-- Zipf's Law -->
                        <div class="methodology-section">
                            <h2>Zipf's Law Analysis</h2>
                            
                            <div class="formula-card">
                                <h3>Zipf's Law</h3>
                                <p>Natural language follows a power law distribution for word frequencies.</p>
                                <div class="formula">
                                    <span class="math">f(r) ‚àù 1/r·µÖ  where Œ± ‚âà 1</span>
                                </div>
                                <p class="formula-note">In log-log space: log(f) = -Œ±¬∑log(r) + c. Natural text has slope ‚âà -1. AI text often deviates (slope &lt; -1), showing overuse of common words.</p>
                            </div>

                            <div class="zipf-explanation">
                                <h4>How We Measure Zipf Compliance</h4>
                                <ol>
                                    <li>Rank all words by frequency (rank 1 = most frequent)</li>
                                    <li>Plot log(rank) vs log(frequency)</li>
                                    <li>Perform linear regression to find slope</li>
                                    <li>Calculate R¬≤ to measure fit quality</li>
                                    <li>Deviation from slope -1 indicates potential AI generation</li>
                                </ol>
                            </div>
                        </div>

                        <!-- Readability -->
                        <div class="methodology-section">
                            <h2>Readability Metrics</h2>

                            <div class="formula-card">
                                <h3>Flesch Reading Ease</h3>
                                <p>Measures text difficulty on a 0-100 scale.</p>
                                <div class="formula">
                                    <span class="math">FRE = 206.835 - 1.015(words/sentences) - 84.6(syllables/words)</span>
                                </div>
                                <p class="formula-note">Higher = easier to read. AI text often scores 50-70 (professional level) with unusual consistency.</p>
                            </div>

                            <div class="formula-card">
                                <h3>Flesch-Kincaid Grade Level</h3>
                                <p>Estimates U.S. school grade level needed to understand text.</p>
                                <div class="formula">
                                    <span class="math">FKGL = 0.39(words/sentences) + 11.8(syllables/words) - 15.59</span>
                                </div>
                            </div>

                            <div class="formula-card">
                                <h3>Gunning Fog Index</h3>
                                <p>Estimates years of education needed to understand text.</p>
                                <div class="formula">
                                    <span class="math">FOG = 0.4[(words/sentences) + 100(complex words/words)]</span>
                                </div>
                                <p class="formula-note">Complex words = 3+ syllables. AI text often has low variance in FOG across paragraphs.</p>
                            </div>
                        </div>

                        <!-- Probability Aggregation -->
                        <div class="methodology-section">
                            <h2>Probability Aggregation</h2>

                            <div class="formula-card">
                                <h3>Weighted Category Aggregation</h3>
                                <p>Final AI probability is computed using weighted category scores.</p>
                                <div class="formula">
                                    <span class="math">P(AI) = Œ£(w·µ¢ ¬∑ c·µ¢ ¬∑ p·µ¢) / Œ£(w·µ¢ ¬∑ c·µ¢)</span>
                                </div>
                                <p class="formula-note">Where w·µ¢ = category weight, c·µ¢ = confidence, p·µ¢ = category AI probability.</p>
                            </div>

                            <div class="weight-table">
                                <h4>Category Weights</h4>
                                <table>
                                    <thead>
                                        <tr><th>Category</th><th>Weight</th><th>Rationale</th></tr>
                                    </thead>
                                    <tbody>
                                        <tr><td>Metadata & Formatting</td><td>25%</td><td>Strongest signal ‚Äî decorative dividers, Unicode anomalies</td></tr>
                                        <tr><td>Sentence Structure</td><td>15%</td><td>Length uniformity is highly indicative</td></tr>
                                        <tr><td>Lexical Diversity</td><td>12%</td><td>Vocabulary patterns are reliable indicators</td></tr>
                                        <tr><td>Repetition Uniformity</td><td>12%</td><td>AI shows even spacing; humans cluster</td></tr>
                                        <tr><td>Tone Stability</td><td>12%</td><td>AI maintains unnaturally consistent tone</td></tr>
                                        <tr><td>Authorship Drift</td><td>10%</td><td>Style consistency throughout document</td></tr>
                                        <tr><td>Grammar Entropy</td><td>8%</td><td>Error distribution patterns</td></tr>
                                        <tr><td>Statistical Perplexity</td><td>8%</td><td>Token predictability measures</td></tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="formula-card">
                                <h3>Wilson Score Confidence Interval</h3>
                                <p>We report 95% confidence intervals using Wilson score.</p>
                                <div class="formula">
                                    <span class="math">CI = (p + z¬≤/2n ¬± z‚àö(p(1-p)/n + z¬≤/4n¬≤)) / (1 + z¬≤/n)</span>
                                </div>
                                <p class="formula-note">Where z = 1.96 for 95% CI, n = number of analyzers, p = probability estimate.</p>
                            </div>

                            <div class="formula-card">
                                <h3>Bayesian Probability Combination</h3>
                                <p>Uses log-odds for more accurate signal combination than weighted average.</p>
                                <div class="formula">
                                    <span class="math">P(AI) = 1 / (1 + exp(-Œ£ w·µ¢¬∑log(p·µ¢/(1-p·µ¢))))</span>
                                </div>
                                <p class="formula-note">Converts probabilities to log-odds, combines with weights, converts back. Better handles correlated signals.</p>
                            </div>
                        </div>

                        <!-- Advanced Statistical Tests -->
                        <div class="methodology-section">
                            <h2>Advanced Statistical Tests (v2.1)</h2>

                            <div class="formula-card">
                                <h3>Autocorrelation Analysis</h3>
                                <p>Detects periodic patterns in sequences (e.g., sentence lengths).</p>
                                <div class="formula">
                                    <span class="math">œÅ(k) = Œ£(x·µ¢-Œº)(x·µ¢‚Çä‚Çñ-Œº) / ((n-k)¬∑œÉ¬≤)</span>
                                </div>
                                <p class="formula-note">High autocorrelation at any lag suggests periodic/predictable patterns typical of AI text.</p>
                            </div>

                            <div class="formula-card">
                                <h3>N-gram Perplexity Approximation</h3>
                                <p>Approximates neural LM perplexity using Markov chain entropy.</p>
                                <div class="formula">
                                    <span class="math">PP = 2^H where H = -1/N ¬∑ Œ£ log‚ÇÇ P(w·µ¢|context)</span>
                                </div>
                                <p class="formula-note">Lower perplexity = more predictable text. AI typically shows perplexity 30-80; humans 100-300.</p>
                            </div>

                            <div class="formula-card">
                                <h3>Runs Test for Randomness</h3>
                                <p>Counts runs of consecutive values above/below median.</p>
                                <div class="formula">
                                    <span class="math">Z = (R - E[R]) / œÉ·µ£ where E[R] = 2n‚ÇÄn‚ÇÅ/n + 1</span>
                                </div>
                                <p class="formula-note">Fewer runs than expected indicates non-random (patterned) structure typical of AI.</p>
                            </div>

                            <div class="formula-card">
                                <h3>Chi-Squared Uniformity Test</h3>
                                <p>Tests if distribution significantly differs from uniform.</p>
                                <div class="formula">
                                    <span class="math">œá¬≤ = Œ£ (O·µ¢ - E·µ¢)¬≤ / E·µ¢</span>
                                </div>
                                <p class="formula-note">Higher œá¬≤ = less uniform = more human-like variation in features.</p>
                            </div>

                            <div class="formula-card">
                                <h3>Mahalanobis Distance</h3>
                                <p>Measures how far text deviates from expected human distribution.</p>
                                <div class="formula">
                                    <span class="math">D = ‚àö(Œ£((x·µ¢ - Œº·µ¢)/œÉ·µ¢)¬≤ / k)</span>
                                </div>
                                <p class="formula-note">Uses empirically-derived baselines for human writing. Distance > 2œÉ is statistically unusual.</p>
                            </div>
                        </div>

                        <!-- Variance Analysis -->
                        <div class="methodology-section">
                            <h2>Variance-Based Detection</h2>

                            <div class="formula-card">
                                <h3>Uniformity Score</h3>
                                <p>Measures how uniform a sequence is (high uniformity = AI-like).</p>
                                <div class="formula">
                                    <span class="math">U = 1 - min(1, CV / 0.8)</span>
                                </div>
                                <p class="formula-note">Normalized to 0-1 where 1 = perfectly uniform. Expected human CV ‚âà 0.4-0.8.</p>
                            </div>

                            <div class="formula-card">
                                <h3>Variance Stability</h3>
                                <p>Measures how consistent variance is across the document.</p>
                                <div class="formula">
                                    <span class="math">VS = Uniformity(LocalVariances)</span>
                                </div>
                                <p class="formula-note">Compute variance in sliding windows, then measure uniformity of those variances. AI maintains stable variance; humans vary.</p>
                            </div>

                            <div class="formula-card">
                                <h3>Periodicity Detection</h3>
                                <p>Detects regular patterns in feature sequences.</p>
                                <div class="formula">
                                    <span class="math">P = max(AutoCorr(x, lag)) for lag ‚àà [2, 10]</span>
                                </div>
                                <p class="formula-note">High periodicity suggests AI-generated content with systematic patterns.</p>
                            </div>

                            <div class="formula-card">
                                <h3>Style Drift Score</h3>
                                <p>Measures how much writing style changes from beginning to end.</p>
                                <div class="formula">
                                    <span class="math">Drift = |Œº_last - Œº_first| / Œº_overall</span>
                                </div>
                                <p class="formula-note">Humans naturally drift in style; AI maintains unnatural consistency.</p>
                            </div>
                        </div>

                        <!-- Skewness and Kurtosis -->
                        <div class="methodology-section">
                            <h2>Distribution Shape Analysis</h2>

                            <div class="formula-card">
                                <h3>Skewness</h3>
                                <p>Measures asymmetry of the distribution.</p>
                                <div class="formula">
                                    <span class="math">Œ≥‚ÇÅ = E[(X-Œº)¬≥] / œÉ¬≥</span>
                                </div>
                                <p class="formula-note">0 = symmetric, positive = right-skewed, negative = left-skewed. Human sentence lengths often show positive skew.</p>
                            </div>

                            <div class="formula-card">
                                <h3>Kurtosis</h3>
                                <p>Measures "tailedness" of the distribution.</p>
                                <div class="formula">
                                    <span class="math">Œ∫ = E[(X-Œº)‚Å¥] / œÉ‚Å¥ - 3</span>
                                </div>
                                <p class="formula-note">0 = normal distribution, positive = heavy tails, negative = light tails. AI text often shows lower kurtosis (fewer outliers).</p>
                            </div>
                        </div>

                        <!-- Interpretation -->
                        <div class="methodology-section">
                            <h2>Interpretation Guidelines</h2>
                            
                            <div class="interpretation-grid">
                                <div class="interp-card ai">
                                    <h4>üî¥ AI Indicators</h4>
                                    <ul>
                                        <li>Low sentence length CV (&lt;0.3)</li>
                                        <li>High uniformity score (&gt;0.7)</li>
                                        <li>Low burstiness (&lt;0)</li>
                                        <li>Zipf slope deviation &gt;0.2</li>
                                        <li>Low hapax ratio (&lt;0.4)</li>
                                        <li>Decorative Unicode dividers</li>
                                        <li>Consistent readability scores</li>
                                        <li>High discourse marker density</li>
                                    </ul>
                                </div>
                                <div class="interp-card human">
                                    <h4>üü¢ Human Indicators</h4>
                                    <ul>
                                        <li>High sentence length CV (&gt;0.5)</li>
                                        <li>Positive burstiness (&gt;0.2)</li>
                                        <li>Zipf compliance (slope ‚âà -1)</li>
                                        <li>High hapax ratio (&gt;0.5)</li>
                                        <li>Natural contractions present</li>
                                        <li>Variable readability</li>
                                        <li>Personal pronouns used</li>
                                        <li>Style drift over document</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="methodology-section disclaimer">
                            <h3>Important Notes</h3>
                            <ul>
                                <li><strong>No single metric is definitive</strong> ‚Äî we combine multiple signals</li>
                                <li><strong>Context matters</strong> ‚Äî academic/technical writing may appear AI-like</li>
                                <li><strong>Confidence varies</strong> ‚Äî short texts have higher uncertainty</li>
                                <li><strong>AI evolves</strong> ‚Äî detection methods must continuously adapt</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Veritas AI Detection ‚Äî Linguistic Analysis Engine</p>
        </footer>
    </div>

    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://unpkg.com/docx@8.2.4/build/index.umd.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    
    <!-- Core Utilities -->
    <script src="js/utils.js"></script>
    <script src="js/variance-utils.js"></script>
    
    <!-- Analyzers -->
    <script src="js/analyzers/grammar.js"></script>
    <script src="js/analyzers/syntax.js"></script>
    <script src="js/analyzers/lexical.js"></script>
    <script src="js/analyzers/dialect.js"></script>
    <script src="js/analyzers/archaic.js"></script>
    <script src="js/analyzers/discourse.js"></script>
    <script src="js/analyzers/semantic.js"></script>
    <script src="js/analyzers/statistical.js"></script>
    <script src="js/analyzers/authorship.js"></script>
    <script src="js/analyzers/metapatterns.js"></script>
    <script src="js/analyzers/metadata.js"></script>
    <script src="js/analyzers/repetition.js"></script>
    <script src="js/analyzers/tone.js"></script>
    <script src="js/analyzers/partofspeech.js"></script>
    
    <!-- Engine & Features -->
    <script src="js/analyzer-engine.js"></script>
    <script src="js/visualizations.js"></script>
    <script src="js/advanced-visualizations.js"></script>
    <script src="js/file-parser.js"></script>
    <script src="js/report-exporter.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
